<!DOCTYPE html>
<html>

<head>
  <title>Signed API</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <!--Chart-->
  <script>
    window.onload = function () {

      var dataPoints = [];

      var options = {
        theme: "light2",
        title: {
          text: "Live Data"
        },
        data: [{
          type: "line",
          dataPoints: dataPoints
        }]
      };
      $("#chartContainer").CanvasJSChart(options);
      updateData();

      // Initial Values
      var xValue = 0;
      var yValue = 10;
      var newDataCount = 6;

      function addData(data) {
        if (newDataCount != 1) {
          $.each(data, function (key, value) {
            dataPoints.push({ x: value[0], y: parseInt(value[1]) });
            xValue++;
            yValue = parseInt(value[1]);
          });
        } else {
          //dataPoints.shift();
          dataPoints.push({ x: data[0][0], y: parseInt(data[0][1]) });
          xValue++;
          yValue = parseInt(data[0][1]);
        }

        newDataCount = 1;

        $("#chartContainer").CanvasJSChart().render()
        setTimeout(updateData, 1500);
      }

      function updateData() {
        $.getJSON("https://canvasjs.com/services/data/datapoints.php?xstart=" + xValue + "&ystart=" + yValue + "&length=" + newDataCount + "&type=json", addData);
      }

    }
  </script>
  <!--Chart-->
</head>

<body>

    <div class="row">
      <div class="col-sm-3 left">
        <div class="logo">
        <h1>Signed</h1>
      </div>

        <input type="text" id="artistTextBox" value="Chris Cornell" />
        <button type="button" id="target">Search</button>
        <div class="content">
          <!--Artist Info-->
          <section id="artist-info">
            <ul>
              <li>
                <h2 id="artistName"></h2>
              </li>
              <li>
                <img id="artistImage" />
              </li>
              <li>
                <b>Id</b>
                <span id="artistId"></span>
              </li>
              <li>
                <b>Followers</b>
                <span id="artistFollowers"></span>
              </li>
              <li>
                <b>Popularity</b>
                <span id="artistPopularity"></span>
              </li>
              <li>
                <b>ACI</b>
                <span id="artistAci"></span>
              </li>
            </ul>
          </section>
        </div>

      </div>
      <div class="col-sm-9">
        <div id="chartContainer" style="height: 370px; width: 100%;"></div>
        <div class="content" id="DBData"></div>
      </div>
    </div>

  <script src="https://code.jquery.com/jquery-2.2.1.min.js"
    integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"
    integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf"
    crossorigin="anonymous"></script>
  <script src="client.js"></script>
  <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
</body>

</html>